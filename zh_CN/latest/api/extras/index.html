<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../../zh-cn/latest/img/favicon.ico" />
    <title>è¾…åŠ©å‡½æ•° - MOOTDX</title>
    <link rel="stylesheet" href="../../../../zh-cn/latest/css/theme.css" />
    <link rel="stylesheet" href="../../../../zh-cn/latest/css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\u8f85\u52a9\u51fd\u6570";
        var mkdocs_page_input_path = "api/extras.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../../../zh-cn/latest/js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
<script async type="text/javascript" src="../../../../_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="mootdx" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/api/extras/" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../../../index.html" class="icon icon-home"> MOOTDX
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="https://www.mootdx.com/zh-cn/latest/search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">å¿«é€Ÿå¼€å§‹</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../index.html">é¡¹ç›®æ¦‚è¿°</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/setup/index.html">å®‰è£…è¯´æ˜</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/quick/index.html">å¿«é€Ÿä¸Šæ‰‹</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/history/index.html">ä¿®æ”¹æ—¥å¿—</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">è¡Œæƒ…æ¥å£</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/api/quote1/index.html">æ ‡å‡†è¡Œæƒ…</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/api/quote2/index.html">æ‰©å±•è¡Œæƒ…</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/api/reader/index.html">æ•°æ®è¯»å–</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/api/affair/index.html">è´¢åŠ¡æ•°æ®</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/api/fields/index.html">è´¢åŠ¡å¯¹ç…§</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="index.html">è¾…åŠ©å‡½æ•°</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="index.html#01">01. è·å–åŒèŠ±é¡ºå¤æƒæ•°æ®</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="index.html#02-tdx-pandas-csv">02. TDXå¯¼å‡ºæ•°æ®è½¬ä¸º pandas å¯ç”¨çš„ csv æ–‡ä»¶</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="index.html#03-tdx-pandas-csv">03. TDXå¯¼å‡ºæ•°æ®è½¬ä¸º pandas å¯ç”¨çš„ csv æ–‡ä»¶(æ‰¹é‡å¼‚æ­¥æ¥å£)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="index.html#04">04. äº¤æ˜“æ—¥æ˜¯å¦æ³•å®šèŠ‚å‡æ—¥</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="index.html#05">05. æ–°ç‰ˆè‡ªå®šä¹‰æ¿å—æ“ä½œ</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">å‘½ä»¤è¡Œå·¥å…·</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/cli/bestip/index.html">çº¿è·¯æµ‹è¯•</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/cli/reader/index.html">ç¦»çº¿æ•°æ®</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/cli/quotes/index.html">è¡Œæƒ…æ•°æ®</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/cli/affair/index.html">è´¢åŠ¡æ•°æ®</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/cli/bundle/index.html">æ‰¹é‡ä¸‹è½½</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">å¸¸è§é—®é¢˜</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../zh-cn/latest/faq/py_mini_racer/index.html">py_mini_racer åœ¨ Mac ARMç³»ç»Ÿé—®é¢˜</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">MOOTDX</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html" class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>è¡Œæƒ…æ¥å£ &raquo;</li>
      <li>è¾…åŠ©å‡½æ•°</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="_1">è¾…åŠ©å·¥å…·å‡½æ•°</h1>
<h2 id="01">01. è·å–åŒèŠ±é¡ºå¤æƒæ•°æ®</h2>
<p>å¯ä»¥æŒ‰å¹´ä»½è·å–å•åªè‚¡ç¥¨çš„å¤æƒè¡Œæƒ…æ•°æ® (è‡ªå·±è®¡ç®—å¤æƒè›‹ç–¼çš„ä¸è¡Œï¼Œè¿™ä¸ªè¯¸ä½å…ˆç”¨ç€å§ ğŸ˜€)</p>
<p><strong>å‚æ•°è¯´æ˜: </strong></p>
<ul>
<li>symbol: è‚¡ç¥¨ä»£ç ã€‚ <code>"600300"</code> æ ¼å¼</li>
<li>factor: å‰åå¤æƒã€‚ <code>"00"</code>: ä¸å¤æƒ, <code>"01"</code>: å‰å¤æƒ, <code>"02"</code>: åå¤æƒ</li>
<li>year: è·å–æ•°æ®çš„å¹´ä»½ã€‚ <code>"2021"</code> æ ¼å¼, é»˜è®¤å½“å‰å¹´ä»½</li>
</ul>
<p>è¿”å›å€¼ï¼š</p>
<ul>
<li>pd.DataFrame</li>
</ul>
<p><strong>è°ƒç”¨æ–¹æ³•ï¼š</strong></p>
<pre><code class="language-python">from mootdx.contrib.adjust import get_adjust_year

get_adjust_year(symbol='000001', year='2021', factor='01')
</code></pre>
<p>ä»¥ä¸‹ä¸ºè¿”å›å†…å®¹æ ¼å¼</p>
<pre><code class="language-shell">Out[2]:
             open   high    low  close     volume         amount adjust
date
2021-01-04  18.92  18.92  18.26  18.42  155421640  2891682300.00  0.801
2021-01-05  18.22  18.30  17.62  17.99  182135210  3284606900.00  0.939
2021-01-06  17.90  19.38  17.82  19.38  193494510  3648521900.00  0.997
2021-01-07  19.34  19.80  19.05  19.72  158418530  3111274600.00  0.816
2021-01-08  19.72  19.92  19.13  19.67  119547322  2348316400.00  0.616
...           ...    ...    ...    ...        ...            ...    ...
2021-09-02  18.00  18.78  17.80  18.40  242260350  4454545300.00  1.248
2021-09-03  18.50  18.50  17.70  18.04  139481870  2523273200.00  0.719
2021-09-06  17.93  18.60  17.78  18.45  151522560  2780281100.00  0.781
2021-09-07  18.60  19.56  18.35  19.24  162234420  3067365700.00  0.836
2021-09-08  19.24  19.55  19.10  19.31   88944393  1716830500.00  0.458

[168 rows x 7 columns]
</code></pre>
<h2 id="02-tdx-pandas-csv">02. TDXå¯¼å‡ºæ•°æ®è½¬ä¸º pandas å¯ç”¨çš„ csv æ–‡ä»¶</h2>
<p>å°†TDXé€šè¿‡æ•°æ®å·¥å…·å¯¼å‡ºçš„txtæ–‡ä»¶è½¬æ¢ä¸ºæ ‡å‡†çš„csvæ–‡ä»¶(å…¶å®ä¸è½¬å›pandas ä¹Ÿå¯ä»¥è¯»å–ï¼Œåªæ˜¯ä½¿ç”¨æ—¶å€™æ¯”è¾ƒéº»çƒ¦)</p>
<p><strong>å‚æ•°è¯´æ˜: </strong></p>
<ul>
<li>infile: è¾“å…¥æ–‡ä»¶</li>
<li>outfile: è½¬æ¢åçš„æ–‡ä»¶ï¼Œå¯ä¸ºç©º</li>
</ul>
<p>è¿”å›å€¼ï¼š</p>
<ul>
<li>pd.DataFrame</li>
</ul>
<p><strong>è°ƒç”¨æ–¹æ³•ï¼š</strong></p>
<pre><code class="language-python">from mootdx.tools import tdx2csv

tdx2csv.txt2csv(infile='sz#000001.txt', outfile='sz#000001.csv')
</code></pre>
<h2 id="03-tdx-pandas-csv">03. TDXå¯¼å‡ºæ•°æ®è½¬ä¸º pandas å¯ç”¨çš„ csv æ–‡ä»¶(æ‰¹é‡å¼‚æ­¥æ¥å£)</h2>
<p>å°†TDXé€šè¿‡æ•°æ®å·¥å…·å¯¼å‡ºçš„txtæ–‡ä»¶è½¬æ¢ä¸ºæ ‡å‡†çš„csvæ–‡ä»¶(å…¶å®ä¸è½¬å›pandas ä¹Ÿå¯ä»¥è¯»å–ï¼Œåªæ˜¯ä½¿ç”¨æ—¶å€™æ¯”è¾ƒéº»çƒ¦)</p>
<p><strong>å‚æ•°è¯´æ˜: </strong></p>
<ul>
<li>src: è¦æ¢è¡Œçš„ç›®å½•(tdxå¯¼å‡ºæ–‡ä»¶ç›®å½•)</li>
<li>dst: è½¬æ¢åçš„ç›®å½•</li>
</ul>
<p>è¿”å›å€¼ï¼š</p>
<ul>
<li>None</li>
</ul>
<p><strong>è°ƒç”¨æ–¹æ³•ï¼š</strong></p>
<pre><code class="language-python">from mootdx.tools import tdx2csv

tdx2csv.batch(src='c:/tdx/export', dst='c:/tdx/output')
</code></pre>
<h2 id="04">04. äº¤æ˜“æ—¥æ˜¯å¦æ³•å®šèŠ‚å‡æ—¥</h2>
<p>å‚æ•°è¯´æ˜:</p>
<ul>
<li>date: æ—¥æœŸ, å­—ç¬¦æ ¼å¼</li>
<li>format_: æ—¥æœŸæ ¼å¼ é»˜è®¤: %Y-%m-%d (e: 2010-01-01)</li>
<li>country: å›½å®¶, é»˜è®¤: ä¸­å›½</li>
</ul>
<p>è¿”å›å€¼ï¼š</p>
<ul>
<li>å¸ƒå°”å€¼, True ä¸ºæ³•å®šèŠ‚å‡æ—¥, False ä¸æ˜¯æ³•å®šèŠ‚å‡æ—¥</li>
</ul>
<p><strong>è°ƒç”¨æ–¹æ³•ï¼š</strong></p>
<pre><code class="language-python">from mootdx.utils import holiday

# åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦æ˜¯æ³•å®šèŠ‚å‡æ—¥ ï¼ˆtdxæ¥å£ï¼‰
holiday.holiday(date='20200202', format_='%Y%m%d', country='ä¸­å›½')

# åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦æ˜¯æ³•å®šèŠ‚å‡æ—¥
holiday.holiday(date='2020-02-02')

# åˆ¤æ–­å½“å¤©æ—¥æœŸæ˜¯å¦æ˜¯æ³•å®šèŠ‚å‡æ—¥ï¼ˆdateçš„å€¼ç©ºä¸ºå½“å¤©æ—¥æœŸï¼‰
holiday.holiday()

# åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦æ˜¯æ³•å®šèŠ‚å‡æ—¥ï¼ˆsinaæ¥å£ï¼‰
holiday.holiday2(date='2020-02-02')

# åˆ¤æ–­å½“å¤©æ—¥æœŸæ˜¯å¦æ˜¯æ³•å®šèŠ‚å‡æ—¥ï¼ˆdateçš„å€¼ç©ºä¸ºå½“å¤©æ—¥æœŸï¼‰
holiday.holiday()
</code></pre>
<p><a href="index.html#05"></a></p>
<h2 id="05">05. æ–°ç‰ˆè‡ªå®šä¹‰æ¿å—æ“ä½œ</h2>
<p>å‚æ•°è¯´æ˜:</p>
<ul>
<li>name: æ¿å—åç§°</li>
<li>symbol: è‚¡ç¥¨ä»£ç åˆ—è¡¨</li>
<li>tdxdir: é€šè¾¾ä¿¡çš„å®‰è£…ç›®å½•</li>
</ul>
<p>è¿”å›å€¼ï¼š</p>
<ul>
<li>å¸ƒå°”å€¼, True æˆåŠŸ, False å¤±è´¥</li>
</ul>
<p><strong>è°ƒç”¨æ–¹æ³•ï¼š</strong></p>
<pre><code class="language-python">from mootdx.tools.customize import Customize

# åˆå§‹åŒ–ä¸€ä¸ªè‡ªå®šä¹‰ç‰ˆæœ¬æ“ä½œå¯¹è±¡, tdxdir å¯æ ¹æ®å…·ä½“æƒ…å†µä¿®æ”¹
custom = Customize(tdxdir='C:/new_tdx')

# æ–°å»ºè‡ªå®šä¹‰æ¿å—
custom.create(name='é¾™è™æ¦œ', symbol=['600036', '600016'])

# å†åˆ›å»ºä¸€ä¸ª, æ¿å—åç§°ä¸èƒ½é‡å¤
custom.create(name='ä¼˜è´¨è‚¡', symbol=['600036', '600016'])

# ä¿®æ”¹è‡ªå®šä¹‰æ¿å—
custom.update(name='é¾™è™æ¦œ', symbol=['600036', '600016'])

# æŸ¥è¯¢è‡ªå®šä¹‰æ¿å—
custom.search(name='é¾™è™æ¦œ')

# åˆ é™¤æŒ‡å®šåç§°çš„è‡ªå®šä¹‰æ¿å—
custom.remove(name='é¾™è™æ¦œ')

</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../../../zh-cn/latest/api/fields/index.html" class="btn btn-neutral float-left" title="è´¢åŠ¡å¯¹ç…§"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../../../zh-cn/latest/cli/bestip/index.html" class="btn btn-neutral float-right" title="çº¿è·¯æµ‹è¯•">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  
    <script>var base_url = '../..';</script>
    <script src="../../../../zh-cn/latest/js/theme_extra.js" defer></script>
    <script src="../../../../zh-cn/latest/js/theme.js" defer></script>
      <script src="../../../../zh-cn/latest/search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
